!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r);var c=r("7pbsT"),o=r("2TvXO"),l=r("gEIo3");function s(e){return d.apply(this,arguments)}function d(){return(d=(0,c.default)(e(o).mark((function t(a){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,e.prev=1,e.next=4,(0,l.getMovies)("/movie/".concat(a),null,1);case 4:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),t,null,[[1,9]])}//!!!!!!! функція не підключена до index.html
)))).apply(this,arguments)}var i=document.querySelector("[data-modalCard-open]"),u=document.querySelector("[data-modalCard-close]"),_=document.querySelector("[data-modalCard]"),g=document.querySelector("[backdrop]"),v=document.querySelector(".card__cont-marking"),p=document.querySelector(".card__table"),f=document.querySelector("[data-add-to-watched]"),m=document.querySelector("[data-add-to-queue]");i.addEventListener("click",(function(e){if(e.target.classList.contains("grid-movie-card")){s(e.target.attributes.id.value).then((function(e){return function(e){var t='<img class="card__img" src="http://image.tmdb.org/t/p/w500'.concat(e.poster_path,'" alt="').concat(e.title,'" />');v.insertAdjacentHTML("afterbegin",t);var a=w(e.vote_average),n=w(e.popularity),r='<h1 class="card__table-heder">'.concat(e.title,'</h1>\n      <table class="card__table">\n        <tr class="card__table-vote">\n          <td class="card__table-name ">Vote / Votes</td>\n          <td class="card__table-value "><span class="average">').concat(a,'</span> / <span class="vote">').concat(e.vote_count,'</span></td>\n        </tr>\n        <tr class="card__table-popularity">\n          <td class="card__table-name">Popularity</td>\n          <td class="card__table-value">').concat(n,'</td>\n        </tr>\n        <tr class="card__table-title">\n          <td class="card__table-name">Original Title</td>\n          <td class="card__table-value">').concat(e.title,'</td>\n        </tr>\n        <tr class="card__table-genre">\n          <td class="card__table-name last-child">Genre</td>\n          <td class="card__table-value last-child">').concat(e.genre,'</td>\n        </tr>\n      </table>\n      <div class="card__about">\n        <h2 class="card__about-heder">About</h2>\n        <p class="card__about-text">').concat(e.overview,"</p>\n      </div>");p.insertAdjacentHTML("afterbegin",r),f.addEventListener("click",(function(){return function(e){var t=localStorage.getItem(b)||[];console.log("Before",t),console.log("Film",e.id),t.includes(e.id)||(y.push(e),localStorage.setItem(b,JSON.stringify(y)));return}(e)})),m.addEventListener("click",(function(){return function(e){var t=localStorage.getItem(h)||[];console.log("Before",t),console.log(e),console.log("Цей фільм вже є",t.includes(e.id)),t.includes(e.id)||(L.push(e),localStorage.setItem(h,JSON.stringify(L)));return}(e)}))}(e)})),_.classList.remove("no-activ"),document.getElementsByTagName("HTML")[0].classList.add("no-scroll")}return})),u.addEventListener("click",S),_.addEventListener("click",(function(e){if(!e.target.classList.contains("card__cont"))return;S()})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&(S(),g.classList.add("is-hidden"))}));var b="watched-movies-in-storage",h="queue-movies-in-storage",y=JSON.parse(localStorage.getItem(h))||[],L=JSON.parse(localStorage.getItem(h))||[];function S(){_.classList.add("no-activ"),document.getElementsByTagName("HTML")[0].classList.remove("no-scroll"),v.innerHTML="",p.innerHTML=""}function w(e){return e.toFixed(1)}}();
//# sourceMappingURL=library.e4e71530.js.map
