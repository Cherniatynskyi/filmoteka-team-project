!function(){function e(e){return e&&e.__esModule?e.default:e}function n(e,n,t,i){Object.defineProperty(e,n,{get:t,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return i[e]=t,n.call(t.exports,t,t.exports),t.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},t.parcelRequired7c6=r),r.register("87q4y",(function(t,i){n(t.exports,"renderTrendingMovies",(function(){return f})),n(t.exports,"paginationNavigation1",(function(){return b})),n(t.exports,"makeMovieTitle",(function(){return g})),n(t.exports,"getProperGenre",(function(){return h}));var a=r("7pbsT"),o=r("2TvXO"),s=r("gEIo3"),c=r("1ATxw");r("kAlyN"),(0,s.getMovies)("genre/movie/list",null,1).then((function(e){localStorage.setItem("genres",JSON.stringify(e.data.genres))}));var l=localStorage.getItem("genres"),d=JSON.parse(l),u=null,v=document.querySelector(".movie-grid-list");function p(){return(p=(0,a.default)(e(o).mark((function n(){var t,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getMovies)("trending/movie/day",u,1);case 2:t=e.sent,i=t.data.results,(0,c.addMoviesInStorage)(i),f(i),y.addEventListener("click",b),x.addEventListener("click",b);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function m(e){return e.reduce((function(e,n){return e+(i=(t=n).release_date.slice(0,4),a=g(t),(r=h(t.genre_ids))||(r="No info"),t.poster_path?'<li class="grid-movie-card"  id="'.concat(t.id,'">\n      <div class="movie-item ">\n      <div class="img-wrapper">\n        <img\n          class="movie-img"\n          src="https://image.tmdb.org/t/p/w500').concat(t.poster_path,'"\n          alt="').concat(a,'"\n          loading="lazy"\n        />\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info data-open">\n            <h3 class="movie-title">').concat(a,'</h3>\n            <ul class="thumb">\n              <li class="movie-genre">').concat(r,'</li>\n              <li class="movie-date">| ').concat(i,"</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>"):'<li class="grid-movie-card"  id="'.concat(t.id,'">\n      <div class="movie-item ">\n      <div class="img-wrapper img-placeholder">\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info data-open">\n            <h3 class="movie-title">').concat(a,'</h3>\n            <ul class="thumb">\n              <li class="movie-genre">').concat(r,'</li>\n              <li class="movie-date">| ').concat(i,"</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>"));var t,i,a,r}),"")}function f(e){var n=m(e);v.innerHTML=n}function g(e){return e.hasOwnProperty("title")?e.title:e.name}function h(e){for(var n=function(n){d.forEach((function(i){i.id===e[n]&&t.push(i.name)}))},t=[],i=0;i<e.length;i+=1)n(i);return t.length>=2?t.slice(0,2).join()+", Other...":t.join()}!function(){p.apply(this,arguments)}();var y=document.querySelector("#backButton");y.classList.add("hide");var x=document.querySelector("#nextButton"),w=document.querySelector("#paginationPageNumber"),L=1;function b(e){1===L||L<1?y.classList.add("hide"):y.classList.remove("hide"),"backButton"===e.target.id?(L-=1,w.textContent=L,k(L)):(L+=1,w.textContent=L,k(L)),1===L||L<1?y.classList.add("hide"):y.classList.remove("hide")}function k(e){return S.apply(this,arguments)}function S(){return(S=(0,a.default)(e(o).mark((function n(t){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.getMovies)("trending/movie/day",u,t);case 3:f(e.sent.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}})),r.register("1ATxw",(function(e,t){n(e.exports,"addMoviesInStorage",(function(){return i}));function i(e){localStorage.setItem("movies-in-storage",JSON.stringify(e))}})),r.register("kAlyN",(function(n,t){var i,a=r("7pbsT"),o=r("2TvXO"),s=r("gEIo3"),c=r("87q4y"),l=(r("dIxxU").default,document.querySelector(".movie-grid-list")),d=document.querySelector(".form__error"),u=document.querySelector("#backButton"),v=document.querySelector("#nextButton"),p=document.querySelector(".paginationsContainer"),m=document.querySelector("#paginationPageNumber");form.addEventListener("submit",(function(e){return g.apply(this,arguments)}));var f=1;function g(){return(g=(0,a.default)(e(o).mark((function n(t){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=1,m.textContent="".concat(f),u.classList.add("hide"),t.preventDefault(),i=t.target.firstElementChild.value,e.prev=5,e.next=8,(0,s.getMovies)("search/movie",i,1);case 8:a=e.sent,y(),x(a),h(a),u.removeEventListener("click",c.paginationNavigation1),v.removeEventListener("click",c.paginationNavigation1),u.addEventListener("click",w),v.addEventListener("click",w),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.error(e.t0);case 21:case"end":return e.stop()}}),n,null,[[5,18]])})))).apply(this,arguments)}function h(e){var n,t;0!==e.data.results.length?(n=e.data.results,t=n.map((function(e){var n=e.release_date.split("-")[0],t=(0,c.makeMovieTitle)(e),i=(0,c.getProperGenre)(e.genre_ids);return i||(i="No info"),e.poster_path?'<li class="grid-movie-card" id="'.concat(e.id,'">\n      <div class="movie-item">\n      <div class="img-wrapper">\n        <img class="movie-img"\n        src="http://image.tmdb.org/t/p/w500').concat(e.poster_path,'" \n        alt="').concat(e.title,'"\n        loading="lazy" />\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info">\n            <h3 class="movie-title">').concat(t,'</h3>\n            <ul class="thumb">\n              <li class="movie-genre">').concat(i,'</li>\n              <li class="movie-date">| ').concat(n,'</li>\n              <li class="movie-rating">').concat(e.vote_average,"</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>"):'<li class="grid-movie-card" id="'.concat(e.id,'>\n      <div class="movie-item">\n      <div class="img-wrapper img-placeholder">\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info">\n            <h3 class="movie-title">').concat(t,'</h3>\n            <ul class="thumb">\n              <li class="movie-genre">').concat(i,'</li>\n              <li class="movie-date">| ').concat(n,'</li>\n              <li class="movie-rating">').concat(e.vote_average,"</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>")})).join(""),l.innerHTML=t):d.classList.remove("is-hidden")}function y(){d.classList.contains("is-hidden")||d.classList.add("is-hidden")}function x(e){e.data.total_pages<2&&p.classList.add("visually-hidden"),e.data.total_pages>=2&&p.classList.remove("visually-hidden")}function w(e){1===f||f<1?u.classList.add("hide"):u.classList.remove("hide"),"backButton"===e.target.id?(f-=1,m.textContent=f,L(f)):(f+=1,m.textContent=f,L(f)),1===f||f<1?u.classList.add("hide"):u.classList.remove("hide")}function L(e){return b.apply(this,arguments)}function b(){return(b=(0,a.default)(e(o).mark((function n(t){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.getMovies)("search/movie",i,t);case 3:a=e.sent,console.log(a),y(),h(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}u.classList.add("hide")})),r("kAlyN")}();
//# sourceMappingURL=index.1e4ef0f7.js.map
