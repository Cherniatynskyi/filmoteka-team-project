function e(e,i,t,n){Object.defineProperty(e,i,{get:t,set:n,enumerable:!0,configurable:!0})}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=i.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,i){n[e]=i},i.parcelRequired7c6=s),s.register("4bVpJ",(function(i,t){e(i.exports,"renderTrendingMovies",(function(){return d})),e(i.exports,"paginationNavigation1",(function(){return h})),e(i.exports,"makeMovieTitle",(function(){return v})),e(i.exports,"getProperGenre",(function(){return u}));var n=s("diLRM"),o=s("1vMcC");s("2N44o"),(0,n.getMovies)("genre/movie/list",null,1).then((e=>{localStorage.setItem("genres",JSON.stringify(e.data.genres))}));const a=localStorage.getItem("genres"),r=JSON.parse(a),l=document.querySelector(".movie-grid-list");function c(e){return e.reduce(((e,i)=>e+function(e){const i=e.release_date.slice(0,4),t=v(e);let n=u(e.genre_ids);return n||(n="No info"),e.poster_path?`<li class="grid-movie-card"  id="${e.id}">\n      <div class="movie-item ">\n      <div class="img-wrapper">\n        <img\n          class="movie-img"\n          src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n          alt="${t}"\n          loading="lazy"\n        />\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info data-open">\n            <h3 class="movie-title">${t}</h3>\n            <ul class="thumb">\n              <li class="movie-genre">${n}</li>\n              <li class="movie-date">| ${i}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>`:`<li class="grid-movie-card"  id="${e.id}">\n      <div class="movie-item ">\n      <div class="img-wrapper img-placeholder">\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info data-open">\n            <h3 class="movie-title">${t}</h3>\n            <ul class="thumb">\n              <li class="movie-genre">${n}</li>\n              <li class="movie-date">| ${i}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>`}(i)),"")}function d(e){const i=c(e);l.innerHTML=i}function v(e){return e.hasOwnProperty("title")?e.title:e.name}function u(e){const i=[];for(let t=0;t<e.length;t+=1)r.forEach((n=>{n.id===e[t]&&i.push(n.name)}));return i.length>=2?i.slice(0,2).join()+", Other...":i.join()}!async function(){const e=(await(0,n.getMovies)("trending/movie/day",null,1)).data.results;(0,o.addMoviesInStorage)(e),d(e),m.addEventListener("click",h),g.addEventListener("click",h)}();const m=document.querySelector("#backButton");m.classList.add("hide");const g=document.querySelector("#nextButton");let p=document.querySelector("#paginationPageNumber"),f=1;function h(e){1===f||f<1?m.classList.add("hide"):m.classList.remove("hide"),"backButton"===e.target.id?(f-=1,p.textContent=f,y(f)):(f+=1,p.textContent=f,y(f)),1===f||f<1?m.classList.add("hide"):m.classList.remove("hide")}async function y(e){try{d((await(0,n.getMovies)("trending/movie/day",null,e)).data.results)}catch(e){console.error(e)}}})),s.register("1vMcC",(function(i,t){e(i.exports,"addMoviesInStorage",(function(){return n}));function n(e){localStorage.setItem("movies-in-storage",JSON.stringify(e))}})),s.register("2N44o",(function(e,i){var t=s("diLRM"),n=s("4bVpJ");s("2shzp").default;const o=document.querySelector(".movie-grid-list"),a=document.querySelector(".form__error"),r=document.querySelector("#backButton"),l=document.querySelector("#nextButton"),c=document.querySelector(".paginationsContainer");let d,v=document.querySelector("#paginationPageNumber");form.addEventListener("submit",(async function(e){u=1,v.textContent=`${u}`,r.classList.add("hide"),e.preventDefault(),d=e.target.firstElementChild.value;try{const e=await(0,t.getMovies)("search/movie",d,1);g(),function(e){e.data.total_pages<2&&c.classList.add("visually-hidden");e.data.total_pages>=2&&c.classList.remove("visually-hidden")}(e),m(e),r.removeEventListener("click",n.paginationNavigation1),l.removeEventListener("click",n.paginationNavigation1),r.addEventListener("click",p),l.addEventListener("click",p)}catch(e){console.error(e)}}));let u=1;function m(e){0!==e.data.results.length?function(e){const i=e.map((e=>{const i=e.release_date.split("-")[0];const t=(0,n.makeMovieTitle)(e);let s=(0,n.getProperGenre)(e.genre_ids);return s||(s="No info"),e.poster_path?`<li class="grid-movie-card" id="${e.id}">\n      <div class="movie-item">\n      <div class="img-wrapper">\n        <img class="movie-img"\n        src="http://image.tmdb.org/t/p/w500${e.poster_path}" \n        alt="${e.title}"\n        loading="lazy" />\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info">\n            <h3 class="movie-title">${t}</h3>\n            <ul class="thumb">\n              <li class="movie-genre">${s}</li>\n              <li class="movie-date">| ${i}</li>\n              <li class="movie-rating">${e.vote_average}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>`:`<li class="grid-movie-card" id="${e.id}>\n      <div class="movie-item">\n      <div class="img-wrapper img-placeholder">\n        </div>\n        <div class="movie-info-wrapper">\n          <div class="movie-info">\n            <h3 class="movie-title">${t}</h3>\n            <ul class="thumb">\n              <li class="movie-genre">${s}</li>\n              <li class="movie-date">| ${i}</li>\n              <li class="movie-rating">${e.vote_average}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </li>`})).join("");o.innerHTML=i}(e.data.results):a.classList.remove("is-hidden")}function g(){a.classList.contains("is-hidden")||a.classList.add("is-hidden")}function p(e){1===u||u<1?r.classList.add("hide"):r.classList.remove("hide"),"backButton"===e.target.id?(u-=1,v.textContent=u,f(u)):(u+=1,v.textContent=u,f(u)),1===u||u<1?r.classList.add("hide"):r.classList.remove("hide")}async function f(e){try{const i=await(0,t.getMovies)("search/movie",d,e);console.log(i),g(),m(i)}catch(e){console.error(e)}}r.classList.add("hide")})),s("2N44o");
//# sourceMappingURL=index.761a8f2c.js.map
