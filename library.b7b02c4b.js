var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var o=n("diLRM");async function c(e){try{const t=await(0,o.getMovies)(`/movie/${e}`,null,1);return console.log(t.data),t.data}catch(e){console.error(e)}}//!!!!!!! функція не підключена до index.html
var d=n("9Q9V4");const s=document.querySelector("[data-modalCard-open]"),r=document.querySelector("[data-modalCard-close]"),i=document.querySelector("[data-modalCard]"),l=document.querySelector("[backdrop]"),u=document.querySelector(".card__cont-marking"),g=document.querySelector(".card__table"),m=document.querySelector("[data-add-to-watched]"),v=document.querySelector("[data-add-to-queue]");s.addEventListener("click",(function(e){if(e.target.classList.contains("grid-movie-card")){const t=e.target.attributes.id.value;v.classList.remove("card-buton-change"),m.classList.remove("card-buton-change"),c(t).then((e=>function(e){(function(e,t){const a=JSON.parse(localStorage.getItem(t))||[];console.log(a,"Просмотренные фильмы");const n=a.find((t=>t.id===e.id));console.log(n,"нука"),n?n&&(m.addEventListener("click",(()=>function(e){const t=JSON.parse(localStorage.getItem("watched-movies-in-storage"));if(t.find((t=>t.id===e.id))){const a=t.filter((t=>t.id!==e.id));localStorage.setItem("watched-movies-in-storage",JSON.stringify(a))}(0,d.getWatchedMoviesInStorage)()}(e))),m.textContent="Remove from watched"):(m.addEventListener("click",(()=>function(e){const t=localStorage.getItem("watched-movies-in-storage")||[],a=JSON.parse(localStorage.getItem("watched-movies-in-storage"))||[];t.includes(e.id)||(a.push(e),localStorage.setItem("watched-movies-in-storage",JSON.stringify(a)));return}(e))),m.textContent="Add to watched")})(e,"watched-movies-in-storage"),function(e,t){const a=JSON.parse(localStorage.getItem(t))||[];console.log(a,"Просмотренные фильмы");const n=a.find((t=>t.id===e.id));n?n&&(v.addEventListener("click",(()=>function(e){const t=JSON.parse(localStorage.getItem("queue-movies-in-storage"));if(t.find((t=>t.id===e.id))){const a=t.filter((t=>t.id!==e.id));localStorage.setItem("queue-movies-in-storage",JSON.stringify(a))}(0,d.getQueueMoviesInStorage)()}(e))),v.textContent="Remove from queue"):(console.log(a.includes(n)),v.addEventListener("click",(()=>function(e){const t=localStorage.getItem("queue-movies-in-storage")||[],a=JSON.parse(localStorage.getItem("queue-movies-in-storage"))||[];console.log(a,"распасеный массив"),t.includes(e.id)||(a.push(e),localStorage.setItem("queue-movies-in-storage",JSON.stringify(a)));return}(e))),v.textContent="Add to queue")}(e,"queue-movies-in-storage");const t=`<img class="card__img" src="http://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" />`;u.insertAdjacentHTML("afterbegin",t);const a=_(e.vote_average),n=_(e.popularity),o=`<h1 class="card__table-heder">${e.title}</h1>\n      <table class="card__table">\n        <tr class="card__table-vote">\n          <td class="card__table-name ">Vote / Votes</td>\n          <td class="card__table-value "><span class="average">${a}</span> / <span class="vote">${e.vote_count}</span></td>\n        </tr>\n        <tr class="card__table-popularity">\n          <td class="card__table-name">Popularity</td>\n          <td class="card__table-value">${n}</td>\n        </tr>\n        <tr class="card__table-title">\n          <td class="card__table-name">Original Title</td>\n          <td class="card__table-value">${e.title}</td>\n        </tr>\n        <tr class="card__table-genre">\n          <td class="card__table-name last-child">Genre</td>\n          <td class="card__table-value last-child">${e.genre}</td>\n        </tr>\n      </table>\n      <div class="card__about">\n        <h2 class="card__about-heder">About</h2>\n        <p class="card__about-text">${e.overview}</p>\n      </div>`;g.insertAdjacentHTML("afterbegin",o)}(e))),i.classList.remove("no-activ");document.getElementsByTagName("HTML")[0].classList.add("no-scroll")}return})),r.addEventListener("click",f),i.addEventListener("click",(function(e){if(!e.target.classList.contains("card__cont"))return;f()})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&(f(),l.classList.add("is-hidden"))}));function f(){i.classList.add("no-activ");document.getElementsByTagName("HTML")[0].classList.remove("no-scroll"),u.innerHTML="",g.innerHTML=""}function _(e){return e.toFixed(1)}v.addEventListener("click",(()=>{"Remove from queue"==v.textContent&&(v.textContent="Removed from Queue",v.classList.add("card-buton-change")),"Add to queue"==v.textContent&&(v.textContent="Added to Queue",v.classList.add("card-buton-change"))})),m.addEventListener("click",(()=>{"Remove from watched"==m.textContent&&(m.textContent="Removed from watched",m.classList.add("card-buton-change")),"Add to watched"==m.textContent&&(m.textContent="Added to Watched",m.classList.add("card-buton-change"))}));
//# sourceMappingURL=library.b7b02c4b.js.map
