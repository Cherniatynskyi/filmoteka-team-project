!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in a)return a[t].exports;if(t in n){var e=n[t];delete n[t];var r={id:t,exports:{}};return a[t]=r,e.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){n[t]=e},e.parcelRequired7c6=r);var c=r("7pbsT"),o=r("2TvXO"),d=r("gEIo3");function s(t){return l.apply(this,arguments)}function l(){return(l=(0,c.default)(t(o).mark((function e(a){var n;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null,t.prev=1,t.next=4,(0,d.getMovies)("/movie/".concat(a),null,1);case 4:return n=t.sent,t.abrupt("return",n.data);case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),e,null,[[1,8]])}//!!!!!!! функція не підключена до index.html
)))).apply(this,arguments)}var i=r("9KRxl"),u=document.querySelector("[data-modalCard-open]"),v=document.querySelector("[data-modalCard-close]"),f=document.querySelector("[data-modalCard]"),m=document.querySelector("[backdrop]"),_=document.querySelector(".card__cont-marking"),g=document.querySelector(".card__table");u.addEventListener("click",(function(t){if(t.target.classList.contains("grid-movie-card")){s(t.target.attributes.id.value).then((function(t){return function(t){var e='<img class="card__img" src="http://image.tmdb.org/t/p/w342'.concat(t.poster_path,'" alt="').concat(t.title,'" />');p=t,_.insertAdjacentHTML("afterbegin",e);var a,n=y(t.vote_average),r=y(t.popularity);t.genres;t.genres.length,a="No information";var c='<h1 class="card__table-heder">'.concat(t.title,'</h1>\n      <table class="card__table">\n        <tr class="card__table-vote">\n          <td class="card__table-name ">Vote / Votes</td>\n          <td class="card__table-value "><span class="average">').concat(n,'</span> / <span class="vote">').concat(t.vote_count,'</span></td>\n        </tr>\n        <tr class="card__table-popularity">\n          <td class="card__table-name">Popularity</td>\n          <td class="card__table-value">').concat(r,'</td>\n        </tr>\n        <tr class="card__table-title">\n          <td class="card__table-name">Original Title</td>\n          <td class="card__table-value">').concat(t.title,'</td>\n        </tr>\n        <tr class="card__table-genre">\n          <td class="card__table-name last-child">Genre</td>\n          <td class="card__table-value last-child">').concat(a,'</td>\n        </tr>\n      </table>\n      <div class="card__about">\n        <h2 class="card__about-heder">About</h2>\n        <p class="card__about-text">').concat(t.overview,"</p>\n      </div>");g.insertAdjacentHTML("afterbegin",c);var o=document.querySelectorAll("[data-add-to]"),d=JSON.parse(localStorage.getItem("watched")),s=JSON.parse(localStorage.getItem("queue"));d&&(d.find((function(e){return e.id===t.id}))?(o[0].textContent="Remove from watched",o[0].classList.remove("add")):(o[0].textContent="Add to watched",o[0].classList.add("add")));s&&(s.find((function(e){return e.id===t.id}))?(o[1].textContent="Remove from queue",o[1].classList.remove("add")):(o[1].textContent="Add to queue",o[1].classList.add("add")));o.forEach((function(t){return t.addEventListener("click",L)}))}(t)})),f.classList.remove("no-activ"),document.getElementsByTagName("HTML")[0].classList.add("no-scroll")}return})),v.addEventListener("click",b),f.addEventListener("click",(function(t){if(!t.target.classList.contains("card__cont"))return;b()})),window.addEventListener("keydown",(function(t){"Escape"===t.key&&(b(),m.classList.add("is-hidden"))}));var p=null;function b(){f.classList.add("no-activ"),document.getElementsByTagName("HTML")[0].classList.remove("no-scroll"),_.innerHTML="",g.innerHTML=""}function L(t){var e=t.currentTarget.dataset.addTo,a=document.querySelector(".modal-".concat(e));a.classList.contains("add")?(!function(t,e){var a=localStorage.getItem(t);if(!a)return void localStorage.setItem(t,JSON.stringify([e]));var n=JSON.parse(a);n.find((function(t){return t.id===e.id}))||n.push(e),localStorage.setItem(t,JSON.stringify(n))}(e,p),h(e)):(!function(t,e){var a=JSON.parse(localStorage.getItem(t));if(a.find((function(t){return t.id===e.id}))){var n=a.filter((function(t){return t.id!==e.id}));localStorage.setItem(t,JSON.stringify(n))}}(e,p),h(e)),"watched"===e?(0,i.getWatchedMoviesInStorage)():(0,i.getQueueMoviesInStorage)(),a.classList.contains("is-active")}function h(t){var e="modal__btn--active",a=document.querySelector(".modal-".concat(t));if(!a.classList.contains("add"))return a.classList.remove(e),a.classList.add("add"),void(a.textContent="Add to "+t);a.classList.add(e),a.classList.remove("add"),a.textContent="Remove from "+t}function y(t){return t.toFixed(1)}}();
//# sourceMappingURL=library.2098dc7b.js.map
