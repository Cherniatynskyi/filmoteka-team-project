{"mappings":"2uBAAwBA,SAASC,cAAc,cAA/C,IACMC,EAAsBF,SAASC,cAAc,oBAC7CE,EAAkBH,SAASC,cAAc,4BACzCG,EAAgBJ,SAASC,cAAc,0BAE7CE,EAAgBE,iBAAiB,QAASC,GAC1CF,EAAcC,iBAAiB,QAASE,GAExC,IAEMC,EACJ,qIAKK,SAASF,IACd,IAAMG,EACJC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,GAC3CC,EAAUL,EAGhB,GAFAL,EAAcW,UAAUC,OAAO,2BAC/Bb,EAAgBY,UAAUE,IAAI,2BAC1BH,EAAQI,QAAU,EAAG,CACvB,IAAMC,EAASV,EACZW,KAAI,SAAAC,GACH,IAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAE9BC,EADUP,EAAKQ,OACOT,KAAI,SAAAU,G,OAAQA,EAAKC,I,IAQ3C,OANuB,IAAvBH,EAAYV,SAAgBU,EAAc,WAE1CA,EAAYV,QAAU,IACjBU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAGhDZ,EAAKa,YACA,mCAI4BC,OAJOd,EAAKe,GAAG,oJAK7CD,OAD8Bd,EAAKa,YAAY,qBAK1BC,OAJrBd,EAAKgB,MAAM,sHAMYF,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,mEAMjC,mCAKmBU,OALgBd,EAAKe,GAAG,4KAOtBD,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,kE,IAO3CQ,KAAK,IACR/B,EAAoBqC,UAAYpB,C,MAEhCjB,EAAoBqC,UAAY,wEAEWJ,OAAf3B,EAAe,mM,CASxC,SAASD,IACd,IACMO,EADqBJ,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAIxE,GAFAV,EAAgBY,UAAUC,OAAO,2BACjCZ,EAAcW,UAAUE,IAAI,2BACxBH,EAAQI,QAAU,EAAG,CACvB,IAAMC,EAASL,EACZM,KAAI,SAAAC,GACH,IAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAE9BC,EADUP,EAAKQ,OACOT,KAAI,SAAAU,G,OAAQA,EAAKC,I,IAQ3C,OANuB,IAAvBH,EAAYV,SAAgBU,EAAc,WAE1CA,EAAYV,QAAU,IACjBU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAGhDZ,EAAKa,YACA,mCAI4BC,OAJOd,EAAKe,GAAG,oJAK7CD,OAD8Bd,EAAKa,YAAY,qBAK1BC,OAJrBd,EAAKgB,MAAM,sHAMYF,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,mEAMjC,mCAKmBU,OALgBd,EAAKe,GAAG,4KAOtBD,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,kE,IAO3CQ,KAAK,IACR/B,EAAoBqC,UAAYpB,C,MAEhCjB,EAAoBqC,UAAY,wEAEWJ,OAAf3B,EAAe,mM,CAS/C,SAASe,EAAQiB,GAEf,OADgBA,EAAKC,MAAM,KACZ,E,CAGjB,SAASf,EAAUgB,GAEjB,OADoBA,EAAKC,QAAQ,E,CAnJnCrC,G","sources":["src/services/myLibraryPage.js"],"sourcesContent":["const moviesContainer = document.querySelector('.container');\nconst moviesListContainer = document.querySelector('.movie-grid-list');\nconst btnGetToWatched = document.querySelector('[data-action =\"watched\"]');\nconst btnGetToQueue = document.querySelector('[data-action =\"queue\"]');\n\nbtnGetToWatched.addEventListener('click', getWatchedMoviesInStorage);\nbtnGetToQueue.addEventListener('click', getQueueMoviesInStorage);\n\nconst warningTextUa =\n  'На жаль тут ще не має жодного фільму. Тому спеціально для тебе ми підібрали найпопулярніші фільми. Приємного переглядцу!';\nconst warningTextEng =\n  ' Unfortunately, there is no movie here yet. Therefore, we have selected the most popular movies especially for you. Happy viewing!';\n\n\ngetWatchedMoviesInStorage();\n\nexport function getWatchedMoviesInStorage() {\n  const moviesWatchedInLocal =\n    JSON.parse(localStorage.getItem('watched')) || [];\n  const getData = moviesWatchedInLocal;\n  btnGetToQueue.classList.remove('current__library-button');\n  btnGetToWatched.classList.add('current__library-button');\n  if (getData.length >= 1) {\n    const markup = moviesWatchedInLocal\n      .map(item => {\n        const dateMarkup = getYear(item.release_date);\n        const voteMarkup = getRating(item.vote_average);\n        let genrArr = item.genres;\n        let properGenre = genrArr.map(genr => genr.name);\n\n        properGenre.length === 0 ? (properGenre = 'No info') : properGenre;\n\n        properGenre.length >= 2\n          ? (properGenre = properGenre.slice(0, 2).join() + ', Other...')\n          : properGenre;\n\n        if (item.poster_path) {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        } else {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        }\n      })\n      .join('');\n    moviesListContainer.innerHTML = markup;\n  } else {\n    moviesListContainer.innerHTML = `\n    <div class=\"warning-container\">\n    <p class=\"warning-title\"> ${warningTextEng}</p>\n    <a class=\"warning-button\" href=\"./index.html\" data-btn-home=\"\">\n        <p class=\"warning-inside-text\">ADD</p>\n        <p class=\"warning-card-inside-text\">+</p>\n    </a>\n  </div>`;\n  }\n}\n\nexport function getQueueMoviesInStorage() {\n  const moviesQueueInLocal = JSON.parse(localStorage.getItem('queue')) || [];\n  const getData = moviesQueueInLocal;\n  btnGetToWatched.classList.remove('current__library-button');\n  btnGetToQueue.classList.add('current__library-button');\n  if (getData.length >= 1) {\n    const markup = getData\n      .map(item => {\n        const dateMarkup = getYear(item.release_date);\n        const voteMarkup = getRating(item.vote_average);\n        let genrArr = item.genres;\n        let properGenre = genrArr.map(genr => genr.name);\n\n        properGenre.length === 0 ? (properGenre = 'No info') : properGenre;\n\n        properGenre.length >= 2\n          ? (properGenre = properGenre.slice(0, 2).join() + ', Other...')\n          : properGenre;\n\n        if (item.poster_path) {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        } else {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        }\n      })\n      .join('');\n    moviesListContainer.innerHTML = markup;\n  } else {\n    moviesListContainer.innerHTML = `\n    <div class=\"warning-container\">\n    <p class=\"warning-title\"> ${warningTextEng}</p>\n    <a class=\"warning-button\" href=\"./index.html\" data-btn-home=\"\">\n        <p class=\"warning-inside-text\">ADD</p>\n        <p class=\"warning-card-inside-text\">+</p>\n    </a>\n  </div>`;\n  }\n}\n\nfunction getYear(date) {\n  const dateArr = date.split('-');\n  return dateArr[0];\n}\n\nfunction getRating(vote) {\n  const voteAdapted = vote.toFixed(2);\n  return voteAdapted;\n}\n"],"names":["document","querySelector","$71a1f0367efc9b12$var$moviesListContainer","$71a1f0367efc9b12$var$btnGetToWatched","$71a1f0367efc9b12$var$btnGetToQueue","addEventListener","$71a1f0367efc9b12$export$22d2713c01bde56c","$71a1f0367efc9b12$export$3af3816e89ed66e0","$71a1f0367efc9b12$var$warningTextEng","moviesWatchedInLocal","JSON","parse","localStorage","getItem","getData","classList","remove","add","length","markup","map","item","dateMarkup","$71a1f0367efc9b12$var$getYear","release_date","voteMarkup","$71a1f0367efc9b12$var$getRating","vote_average","properGenre","genres","genr","name","slice","join","poster_path","concat","id","title","original_title","innerHTML","date","split","vote","toFixed"],"version":3,"file":"library.50c6cab7.js.map"}