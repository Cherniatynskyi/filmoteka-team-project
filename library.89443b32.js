!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in a)return a[t].exports;if(t in n){var e=n[t];delete n[t];var o={id:t,exports:{}};return a[t]=o,e.call(o.exports,o,o.exports),o.exports}var d=new Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(t,e){n[t]=e},e.parcelRequired7c6=o);var d=o("7pbsT"),c=o("2TvXO"),r=o("gEIo3");function s(t){return l.apply(this,arguments)}function l(){return(l=(0,d.default)(t(c).mark((function e(a){var n;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null,t.prev=1,t.next=4,(0,r.getMovies)("/movie/".concat(a),null,1);case 4:return n=t.sent,console.log(n.data),t.abrupt("return",n.data);case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),e,null,[[1,9]])}//!!!!!!! функція не підключена до index.html
)))).apply(this,arguments)}o("9KRxl");var u=document.querySelector("[data-modalCard-open]"),i=document.querySelector("[data-modalCard-close]"),v=document.querySelector("[data-modalCard]"),m=document.querySelector("[backdrop]"),f=document.querySelector(".card__cont-marking"),_=document.querySelector(".card__table"),g=document.querySelectorAll("[data-add-to]");u.addEventListener("click",(function(t){if(t.target.classList.contains("grid-movie-card")){var e=t.target.attributes.id.value;addToQueueButton.classList.remove("card-buton-change"),addToWatchedButton.classList.remove("card-buton-change"),s(e).then((function(t){return function(t){checkMovieByIdWatched(t,h),checkMovieByIdQueue(t,p);var e='<img class="card__img" src="http://image.tmdb.org/t/p/w500'.concat(t.poster_path,'" alt="').concat(t.title,'" />');b=t,f.insertAdjacentHTML("afterbegin",e);var a,n=y(t.vote_average),o=y(t.popularity);t.genres;t.genres.length,a="No information";var d='<h1 class="card__table-heder">'.concat(t.title,'</h1>\n      <table class="card__table">\n        <tr class="card__table-vote">\n          <td class="card__table-name ">Vote / Votes</td>\n          <td class="card__table-value "><span class="average">').concat(n,'</span> / <span class="vote">').concat(t.vote_count,'</span></td>\n        </tr>\n        <tr class="card__table-popularity">\n          <td class="card__table-name">Popularity</td>\n          <td class="card__table-value">').concat(o,'</td>\n        </tr>\n        <tr class="card__table-title">\n          <td class="card__table-name">Original Title</td>\n          <td class="card__table-value">').concat(t.title,'</td>\n        </tr>\n        <tr class="card__table-genre">\n          <td class="card__table-name last-child">Genre</td>\n          <td class="card__table-value last-child">').concat(a,'</td>\n        </tr>\n      </table>\n      <div class="card__about">\n        <h2 class="card__about-heder">About</h2>\n        <p class="card__about-text">').concat(t.overview,"</p>\n      </div>");_.insertAdjacentHTML("afterbegin",d),g.forEach((function(t){return t.addEventListener("click",L)}))}(t)})),v.classList.remove("no-activ"),document.getElementsByTagName("HTML")[0].classList.add("no-scroll")}return})),i.addEventListener("click",T),v.addEventListener("click",(function(t){if(!t.target.classList.contains("card__cont"))return;T()})),window.addEventListener("keydown",(function(t){"Escape"===t.key&&(T(),m.classList.add("is-hidden"))}));var h="watched-movies-in-storage",p="queue-movies-in-storage",b=null;function T(){v.classList.add("no-activ"),document.getElementsByTagName("HTML")[0].classList.remove("no-scroll"),f.innerHTML="",_.innerHTML=""}function L(t){var e=t.currentTarget.dataset.addTo;!function(t,e){var a=localStorage.getItem(t);if(!a)return void localStorage.setItem(t,JSON.stringify([e]));var n=JSON.parse(a);n.find((function(t){return t.id===addWatchedMovie.id}))?localStorage.setItem(t,JSON.stringify(n)):(n.push(addWatchedMovie),localStorage.setItem(h,JSON.stringify(n)))}(e,b),function(t){var e="modal__btn--active",a=document.querySelector(".modal-".concat(t));if(a.classList.contains(e))return a.classList.remove(e),void(a.textContent="Add to "+t);a.classList.add(e),a.textContent="Remove from "+t}(e);var a=document.querySelector(".modal-".concat(e));a.classList.contains("is-active")}function y(t){return t.toFixed(1)}addToQueueButton.addEventListener("click",(function(){"Remove from queue"==addToQueueButton.textContent&&(addToQueueButton.textContent="Removed from Queue",addToQueueButton.classList.add("card-buton-change")),"Add to queue"==addToQueueButton.textContent&&(addToQueueButton.textContent="Added to Queue",addToQueueButton.classList.add("card-buton-change"))})),addToWatchedButton.addEventListener("click",(function(){"Remove from watched"==addToWatchedButton.textContent&&(addToWatchedButton.textContent="Removed from watched",addToWatchedButton.classList.add("card-buton-change")),"Add to watched"==addToWatchedButton.textContent&&(addToWatchedButton.textContent="Added to Watched",addToWatchedButton.classList.add("card-buton-change"))}))}();
//# sourceMappingURL=library.89443b32.js.map
