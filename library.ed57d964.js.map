{"mappings":"YAIA,IAAMA,EAAkBC,SAASC,cAAc,cACzCC,EAAsBF,SAASC,cAAc,oBAG7CE,EAAkBH,SAASC,cAAc,4BACzCG,EAAgBJ,SAASC,cAAc,0BAM7CE,EAAgBE,iBAAiB,QAASC,GAC1CF,EAAcC,iBAAiB,QAASE,GAExC,IAAMC,EAAgB,2HAChBC,EAAiB,mIAEjBC,EAAc,4BACdC,EAAY,0BACZC,EAAuBC,KAAKC,MAAMC,aAAaC,QAAQN,KAAiB,GACxEO,EAAqBJ,KAAKC,MAAMC,aAAaC,QAAQL,KAAe,GAInE,SAASL,IAChB,IAAMY,EAAUN,EAIb,GAHKO,QAAQC,IAAI,UAAWF,GAC3BC,QAAQC,IAAIP,KAAKC,MAAMI,EAAQG,SAE5BH,EAAQG,QAAU,EAAG,CAAC,IAAMC,EAASV,EAAqBW,KAAI,SAAAC,GAC/D,IAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAE/BC,EADUP,EAAKQ,OACOT,KAAI,SAAAU,G,OAAQA,EAAKC,I,IAM1C,OAJsB,IAAvBH,EAAYV,SAAeU,EAAc,WAEzCA,EAAYV,QAAU,IAAIU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAEpEZ,EAAKa,YACA,mCAI8BC,OAJKd,EAAKe,GAAG,oJAK3CD,OAD8Bd,EAAKa,YAAY,qBAK1BC,OAJrBd,EAAKgB,MAAM,sHAMYF,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,mEAMnC,mCAKqBU,OALcd,EAAKe,GAAG,4KAOpBD,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,kE,IAO7CQ,KAAK,IACHlC,EAAoBwC,UAAYpB,C,MAElCvB,EAAgB2C,UAAa,MACOJ,OADD9B,EAAc,iDACE8B,OAAf7B,EAAe,+M,CAQjD,SAASF,IACR,IAAMW,EAAUD,EAIrB,GAHKE,QAAQC,IAAI,UAAWF,GAC3BC,QAAQC,IAAIP,KAAKC,MAAMI,EAAQG,SAE5BH,EAAQG,QAAU,EAAG,CAAC,IAAMC,EAASL,EAAmBM,KAAI,SAAAC,GAC7D,IAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAE/BC,EADUP,EAAKQ,OACOT,KAAI,SAAAU,G,OAAQA,EAAKC,I,IAM1C,OAJsB,IAAvBH,EAAYV,SAAeU,EAAc,WAEzCA,EAAYV,QAAU,IAAIU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAEpEZ,EAAKa,YACA,mCAI8BC,OAJKd,EAAKe,GAAG,oJAK3CD,OAD8Bd,EAAKa,YAAY,qBAK1BC,OAJrBd,EAAKgB,MAAM,sHAMYF,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,mEAMnC,mCAKqBU,OALcd,EAAKe,GAAG,4KAOpBD,OAFFd,EAAKiB,eAAe,6EAGjBH,OADDP,EAAY,gDAEXO,OADAb,EAAW,gDACAa,OAAXV,EAAW,kE,IAO7CQ,KAAK,IACHlC,EAAoBwC,UAAYpB,C,MAElCvB,EAAgB2C,UAAa,MACOJ,OADD9B,EAAc,iDACE8B,OAAf7B,EAAe,+M,CAOxD,SAASiB,EAAQiB,GAEf,OADgBA,EAAKC,MAAM,KACZ,E,CAGjB,SAASf,EAAUgB,GAEf,OADoBA,EAAKC,QAAQ,E,CArIrCxC,G","sources":["src/services/myLibraryPage.js"],"sourcesContent":["// import { getProperGenre } from './trendingPage';\n// import { getMovieByID } from \"./MovieObjectByID\";\n// import {  } from \"./modalTemplate\";\n\nconst moviesContainer = document.querySelector(\".container\");\nconst moviesListContainer = document.querySelector('.movie-grid-list');\n// const btnAddToWatched = document.querySelector(\".btn-add-watched\");\n// const btnAddToQueue = document.querySelector(\".card__button-text\");\nconst btnGetToWatched = document.querySelector('[data-action =\"watched\"]');\nconst btnGetToQueue = document.querySelector('[data-action =\"queue\"]');\n\n\n\n// btnAddToWatched.addEventListener(\"click\", addWatchedMoviesInStorage);\n// btnAddToQueue.addEventListener(\"click\", addQueueMoviesInStorage);\nbtnGetToWatched.addEventListener(\"click\", getWatchedMoviesInStorage);\nbtnGetToQueue.addEventListener(\"click\", getQueueMoviesInStorage);\n\nconst warningTextUa = \"Нажаль тут ще не має жодного фільму.  Тому спеціально для тебе ми підібрали найпопулярніші фільми. Приємного переглядцу!\"\nconst warningTextEng = \" Unfortunately, there is no movie here yet.Therefore, we have selected the most popular movies especially for you.Happy viewing!\"\n\nconst KEY_WATCHED = \"watched-movies-in-storage\";\nconst KEY_QUEUE = \"queue-movies-in-storage\";\nconst moviesWatchedInLocal = JSON.parse(localStorage.getItem(KEY_WATCHED)) || [];\nconst moviesQueueInLocal = JSON.parse(localStorage.getItem(KEY_QUEUE)) || [];\n\ngetWatchedMoviesInStorage();\n\nexport function getWatchedMoviesInStorage() {\nconst getData = moviesWatchedInLocal;\n        console.log(\"getData\", getData);\n    console.log(JSON.parse(getData.length));\n    \n   if (getData.length >= 1) {const markup = moviesWatchedInLocal.map(item => {\n      const dateMarkup = getYear(item.release_date);\n      const voteMarkup = getRating(item.vote_average);\n     let genrArr = item.genres;\n     let properGenre = genrArr.map(genr => genr.name);\n    \n     properGenre.length === 0 ? properGenre = 'No info' : properGenre;\n\n     properGenre.length >= 2 ? properGenre = properGenre.slice(0, 2).join() + ', Other...' : properGenre;\n\n      if (item.poster_path) {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      } else {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      }\n    })\n    .join('');\n       moviesListContainer.innerHTML = markup;\n   } else {\n     moviesContainer.innerHTML =  `<p>${warningTextUa}</p>\n                                   <p> ${warningTextEng}</p>\n                                   <button class=\"nav-btn\" data-btn-home=\"\">\n                                   <a href=\"/index.html\">the best here</a>\n                                   </button>`;\n  }\n}\n\n\nexport function getQueueMoviesInStorage() {\n        const getData = moviesQueueInLocal;\n        console.log(\"getData\", getData);\n    console.log(JSON.parse(getData.length));\n    \n   if (getData.length >= 1) {const markup = moviesQueueInLocal.map(item => {\n      const dateMarkup = getYear(item.release_date);\n      const voteMarkup = getRating(item.vote_average);\n     let genrArr = item.genres;\n     let properGenre = genrArr.map(genr => genr.name);\n    \n     properGenre.length === 0 ? properGenre = 'No info' : properGenre;\n\n     properGenre.length >= 2 ? properGenre = properGenre.slice(0, 2).join() + ', Other...' : properGenre;\n\n      if (item.poster_path) {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      } else {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      }\n    })\n    .join('');\n       moviesListContainer.innerHTML = markup;\n   } else {\n     moviesContainer.innerHTML =  `<p>${warningTextUa}</p>\n                                   <p> ${warningTextEng}</p>\n                                   <button class=\"nav-btn\" data-btn-home=\"\">\n                                   <a href=\"/index.html\">the best here</a>\n                                   </button>`;\n  }\n}\n\nfunction getYear(date) {\n  const dateArr = date.split('-');\n  return dateArr[0];\n}\n\nfunction getRating(vote) {\n    const voteAdapted = vote.toFixed(2);\n    return voteAdapted;\n}\n\n\nexport function addWatchedMoviesInStorage() {\n    const localStorageArr = localStorage.getItem(KEY_WATCHED) || [];\n    console.log(\"Before\",localStorageArr);\n    if (!localStorageArr.includes(filmObject.id)) {\n    moviesWatchedInLocal.push(filmObject);\n    console.log(\"In if\",moviesWatchedInLocal);\n\n    localStorage.setItem(KEY_WATCHED, JSON.stringify(moviesWatchedInLocal));\n    getWatchedMoviesInStorage();\n    }\n    return \n}\n\nexport function addQueueMoviesInStorage() {\n    const localStorageArr = localStorage.getItem(KEY_QUEUE) || [];\n    console.log(\"Before\",localStorageArr);\n    if (!localStorageArr.includes(filmObject.id)) {\n    moviesQueueInLocal.push(filmObject);\n    console.log(\"In if\",moviesQueueInLocal);\n\n    localStorage.setItem(KEY_QUEUE, JSON.stringify(moviesQueueInLocal));\n    getQueueMoviesInStorage();\n    }\n    return \n}\n"],"names":["$71a1f0367efc9b12$var$moviesContainer","document","querySelector","$71a1f0367efc9b12$var$moviesListContainer","$71a1f0367efc9b12$var$btnGetToWatched","$71a1f0367efc9b12$var$btnGetToQueue","addEventListener","$71a1f0367efc9b12$export$22d2713c01bde56c","$71a1f0367efc9b12$export$3af3816e89ed66e0","$71a1f0367efc9b12$var$warningTextUa","$71a1f0367efc9b12$var$warningTextEng","$71a1f0367efc9b12$var$KEY_WATCHED","$71a1f0367efc9b12$var$KEY_QUEUE","$71a1f0367efc9b12$var$moviesWatchedInLocal","JSON","parse","localStorage","getItem","$71a1f0367efc9b12$var$moviesQueueInLocal","getData","console","log","length","markup","map","item","dateMarkup","$71a1f0367efc9b12$var$getYear","release_date","voteMarkup","$71a1f0367efc9b12$var$getRating","vote_average","properGenre","genres","genr","name","slice","join","poster_path","concat","id","title","original_title","innerHTML","date","split","vote","toFixed"],"version":3,"file":"library.ed57d964.js.map"}