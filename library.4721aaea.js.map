{"mappings":"+tBAIwBA,SAASC,cAAc,cAA/C,MACMC,EAAsBF,SAASC,cAAc,oBAG7CE,EAAkBH,SAASC,cAAc,4BACzCG,EAAgBJ,SAASC,cAAc,0BAI7CE,EAAgBE,iBAAiB,QAASC,GAC1CF,EAAcC,iBAAiB,QAASE,GAYjC,SAASD,IACd,MAAME,EACJC,KAAKC,MAAMC,aAAaC,QAPR,+BAOiC,GAKnD,GAJgBJ,EAIJK,QAAU,EAAG,CACvB,MAAMC,EAASN,EACZO,KAAIC,IACH,MAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAClC,IACIC,EADUP,EAAKQ,OACOT,KAAIU,GAAQA,EAAKC,OAQ3C,OANuB,IAAvBH,EAAYV,SAAgBU,EAAc,WAE1CA,EAAYV,QAAU,IACjBU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAGhDZ,EAAKa,YACA,mCAAmCb,EAAKc,qJAIZd,EAAKa,+BACnCb,EAAKe,0HAIgBf,EAAKgB,0FAEHT,gDACCN,gDACAG,mEAMtB,mCAAmCJ,EAAKc,6KAKrBd,EAAKgB,0FAEHT,gDACCN,gDACAG,kEAI7B,IAGHQ,KAAK,IACR1B,EAAoB+B,UAAYnB,C,EAW7B,SAASP,IACd,MACM2B,EADqBzB,KAAKC,MAAMC,aAAaC,QA1EnC,6BA0E0D,GAK1E,GAAIsB,EAAQrB,QAAU,EAAG,CAEvB,MAAMC,EAASoB,EACZnB,KAAIC,IAEH,MAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cAClC,IACIC,EADUP,EAAKQ,OACOT,KAAIU,GAAQA,EAAKC,OAQ3C,OANuB,IAAvBH,EAAYV,SAAgBU,EAAc,WAE1CA,EAAYV,QAAU,IACjBU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAGhDZ,EAAKa,YAEA,mCAAmCb,EAAKc,qJAIZd,EAAKa,+BACnCb,EAAKe,0HAIgBf,EAAKgB,0FAEHT,gDACCN,gDACAG,mEAMtB,mCAAmCJ,EAAKc,6KAKrBd,EAAKgB,0FAEHT,gDACCN,gDACAG,kEAI7B,IAGHQ,KAAK,IAER1B,EAAoB+B,UAAYnB,C,MAEhCZ,EAAoB+B,UAAY,sf,CAQpC,SAASf,EAAQiB,GAEf,OADgBA,EAAKC,MAAM,KACZ,E,CAGjB,SAASf,EAAUgB,GAEjB,OADoBA,EAAKC,QAAQ,E,CApJnChC,G","sources":["src/services/myLibraryPage.js"],"sourcesContent":["// import { getProperGenre } from './trendingPage';\n// import { getMovieByID } from \"./MovieObjectByID\";\n// import {  } from \"./modalTemplate\";\n\nconst moviesContainer = document.querySelector('.container');\nconst moviesListContainer = document.querySelector('.movie-grid-list');\n// const btnAddToWatched = document.querySelector(\".btn-add-watched\");\n// const btnAddToQueue = document.querySelector(\".card__button-text\");\nconst btnGetToWatched = document.querySelector('[data-action =\"watched\"]');\nconst btnGetToQueue = document.querySelector('[data-action =\"queue\"]');\n\n// btnAddToWatched.addEventListener(\"click\", addWatchedMoviesInStorage);\n// btnAddToQueue.addEventListener(\"click\", addQueueMoviesInStorage);\nbtnGetToWatched.addEventListener('click', getWatchedMoviesInStorage);\nbtnGetToQueue.addEventListener('click', getQueueMoviesInStorage);\n\nconst warningTextUa =\n  'Нажаль тут ще не має жодного фільму.  Тому спеціально для тебе ми підібрали найпопулярніші фільми. Приємного переглядцу!';\nconst warningTextEng =\n  ' Unfortunately, there is no movie here yet.Therefore, we have selected the most popular movies especially for you.Happy viewing!';\n\nconst KEY_WATCHED = 'watched-movies-in-storage';\nconst KEY_QUEUE = 'queue-movies-in-storage';\n\ngetWatchedMoviesInStorage();\n\nexport function getWatchedMoviesInStorage() {\n  const moviesWatchedInLocal =\n    JSON.parse(localStorage.getItem(KEY_WATCHED)) || [];\n  const getData = moviesWatchedInLocal;\n  // console.log('getData', getData);\n  // console.log(JSON.parse(getData.length));\n\n  if (getData.length >= 1) {\n    const markup = moviesWatchedInLocal\n      .map(item => {\n        const dateMarkup = getYear(item.release_date);\n        const voteMarkup = getRating(item.vote_average);\n        let genrArr = item.genres;\n        let properGenre = genrArr.map(genr => genr.name);\n\n        properGenre.length === 0 ? (properGenre = 'No info') : properGenre;\n\n        properGenre.length >= 2\n          ? (properGenre = properGenre.slice(0, 2).join() + ', Other...')\n          : properGenre;\n\n        if (item.poster_path) {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        } else {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        }\n      })\n      .join('');\n    moviesListContainer.innerHTML = markup;\n  }\n  // else {\n  //   moviesContainer.innerHTML = `<p>${warningTextUa}</p>\n  //                                  <p> ${warningTextEng}</p>\n  //                                  <button class=\"nav-btn\" data-btn-home=\"\">\n  //                                  <a href=\"/index.html\">the best here</a>\n  //                                  </button>`;\n  // }\n}\n\nexport function getQueueMoviesInStorage() {\n  const moviesQueueInLocal = JSON.parse(localStorage.getItem(KEY_QUEUE)) || [];\n  const getData = moviesQueueInLocal;\n  // console.log('getData', getData);\n  // console.log(JSON.parse(getData.length));\n\n  if (getData.length >= 1) {\n    // console.log(getData, 'get data in if');\n    const markup = getData\n      .map(item => {\n        // console.log(item, 'item');\n        const dateMarkup = getYear(item.release_date);\n        const voteMarkup = getRating(item.vote_average);\n        let genrArr = item.genres;\n        let properGenre = genrArr.map(genr => genr.name);\n\n        properGenre.length === 0 ? (properGenre = 'No info') : properGenre;\n\n        properGenre.length >= 2\n          ? (properGenre = properGenre.slice(0, 2).join() + ', Other...')\n          : properGenre;\n\n        if (item.poster_path) {\n          // console.log('Приет');\n          return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        } else {\n          return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n        }\n      })\n      .join('');\n    // console.log(markup);\n    moviesListContainer.innerHTML = markup;\n  } else {\n    moviesListContainer.innerHTML = `<p>${warningTextUa}</p>\n                                   <p> ${warningTextEng}</p>\n                                   <button class=\"nav-btn\" data-btn-home=\"\">\n                                   <a href=\"/index.html\">the best here</a>\n                                   </button>`;\n  }\n}\n\nfunction getYear(date) {\n  const dateArr = date.split('-');\n  return dateArr[0];\n}\n\nfunction getRating(vote) {\n  const voteAdapted = vote.toFixed(2);\n  return voteAdapted;\n}\n\n// export function addWatchedMoviesInStorage() {\n//   const localStorageArr = localStorage.getItem(KEY_WATCHED) || [];\n//   console.log('Before', localStorageArr);\n//   if (!localStorageArr.includes(filmObject.id)) {\n//     moviesWatchedInLocal.push(filmObject);\n//     console.log('In if', moviesWatchedInLocal);\n\n//     localStorage.setItem(KEY_WATCHED, JSON.stringify(moviesWatchedInLocal));\n//     getWatchedMoviesInStorage();\n//   }\n//   return;\n// }\n\n// export function addQueueMoviesInStorage() {\n//   const localStorageArr = localStorage.getItem(KEY_QUEUE) || [];\n//   console.log('Before', localStorageArr);\n//   if (!localStorageArr.includes(filmObject.id)) {\n//     moviesQueueInLocal.push(filmObject);\n//     console.log('In if', moviesQueueInLocal);\n\n//     localStorage.setItem(KEY_QUEUE, JSON.stringify(moviesQueueInLocal));\n//     getQueueMoviesInStorage();\n//   }\n//   return;\n// }\n"],"names":["document","querySelector","$72a0aa36b2ac21e3$var$moviesListContainer","$72a0aa36b2ac21e3$var$btnGetToWatched","$72a0aa36b2ac21e3$var$btnGetToQueue","addEventListener","$72a0aa36b2ac21e3$export$22d2713c01bde56c","$72a0aa36b2ac21e3$export$3af3816e89ed66e0","moviesWatchedInLocal","JSON","parse","localStorage","getItem","length","markup","map","item","dateMarkup","$72a0aa36b2ac21e3$var$getYear","release_date","voteMarkup","$72a0aa36b2ac21e3$var$getRating","vote_average","properGenre","genres","genr","name","slice","join","poster_path","id","title","original_title","innerHTML","getData","date","split","vote","toFixed"],"version":3,"file":"library.4721aaea.js.map"}