var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},d=t.parcelRequired7c6;null==d&&((d=function(t){if(t in e)return e[t].exports;if(t in a){var d=a[t];delete a[t];var n={id:t,exports:{}};return e[t]=n,d.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},t.parcelRequired7c6=d);var n=d("diLRM");async function o(t){try{const e=await(0,n.getMovies)(`/movie/${t}`,null,1);return console.log(e.data),e.data}catch(t){console.error(t)}}//!!!!!!! функція не підключена до index.html
d("9Q9V4");const c=document.querySelector("[data-modalCard-open]"),r=document.querySelector("[data-modalCard-close]"),s=document.querySelector("[data-modalCard]"),l=document.querySelector("[backdrop]"),i=document.querySelector(".card__cont-marking"),u=document.querySelector(".card__table"),g=document.querySelectorAll("[data-add-to]");c.addEventListener("click",(function(t){if(console.log(t.target),t.target.classList.contains("grid-movie-card")){const e=t.target.attributes.id.value;addToQueueButton.classList.remove("card-buton-change"),addToWatchedButton.classList.remove("card-buton-change"),o(e).then((t=>function(t){checkMovieByIdWatched(t,"watched-movies-in-storage"),checkMovieByIdQueue(t,"queue-movies-in-storage");let e=`<img class="card__img" src="http://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}" />`;m=t,i.insertAdjacentHTML("afterbegin",e);const a=h(t.vote_average),d=h(t.popularity);let n;t.genres;t.genres.length,n="No information";const o=`<h1 class="card__table-heder">${t.title}</h1>\n      <table class="card__table">\n        <tr class="card__table-vote">\n          <td class="card__table-name ">Vote / Votes</td>\n          <td class="card__table-value "><span class="average">${a}</span> / <span class="vote">${t.vote_count}</span></td>\n        </tr>\n        <tr class="card__table-popularity">\n          <td class="card__table-name">Popularity</td>\n          <td class="card__table-value">${d}</td>\n        </tr>\n        <tr class="card__table-title">\n          <td class="card__table-name">Original Title</td>\n          <td class="card__table-value">${t.title}</td>\n        </tr>\n        <tr class="card__table-genre">\n          <td class="card__table-name last-child">Genre</td>\n          <td class="card__table-value last-child">${n}</td>\n        </tr>\n      </table>\n      <div class="card__about">\n        <h2 class="card__about-heder">About</h2>\n        <p class="card__about-text">${t.overview}</p>\n      </div>`;u.insertAdjacentHTML("afterbegin",o),g.forEach((t=>t.addEventListener("click",_)))}(t))),s.classList.remove("no-activ");document.getElementsByTagName("HTML")[0].classList.add("no-scroll")}return})),r.addEventListener("click",v),s.addEventListener("click",(function(t){if(!t.target.classList.contains("card__cont"))return;v()})),window.addEventListener("keydown",(function(t){"Escape"===t.key&&(v(),l.classList.add("is-hidden"))}));let m=null;function v(){s.classList.add("no-activ");document.getElementsByTagName("HTML")[0].classList.remove("no-scroll"),i.innerHTML="",u.innerHTML=""}function _(t){const{addTo:e}=t.currentTarget.dataset;!function(t,e){const a=localStorage.getItem(t);if(!a)return void localStorage.setItem(t,JSON.stringify([e]));let d=JSON.parse(a);d.find((t=>t.id===addWatchedMovie.id))?localStorage.setItem(t,JSON.stringify(d)):(d.push(addWatchedMovie),localStorage.setItem("watched-movies-in-storage",JSON.stringify(d)))}(e,m)}function h(t){return t.toFixed(1)}addToQueueButton.addEventListener("click",(()=>{"Remove from queue"==addToQueueButton.textContent&&(addToQueueButton.textContent="Removed from Queue",addToQueueButton.classList.add("card-buton-change")),"Add to queue"==addToQueueButton.textContent&&(addToQueueButton.textContent="Added to Queue",addToQueueButton.classList.add("card-buton-change"))})),addToWatchedButton.addEventListener("click",(()=>{"Remove from watched"==addToWatchedButton.textContent&&(addToWatchedButton.textContent="Removed from watched",addToWatchedButton.classList.add("card-buton-change")),"Add to watched"==addToWatchedButton.textContent&&(addToWatchedButton.textContent="Added to Watched",addToWatchedButton.classList.add("card-buton-change"))}));
//# sourceMappingURL=library.9c21e402.js.map
