{"mappings":"AAIA,MAAMA,EAAkBC,SAASC,cAAc,cACzCC,EAAsBF,SAASC,cAAc,oBAG7CE,EAAkBH,SAASC,cAAc,4BACzCG,EAAgBJ,SAASC,cAAc,0BAM7CE,EAAgBE,iBAAiB,QAASC,GAC1CF,EAAcC,iBAAiB,QAASE,GAExC,MAAMC,EAAgB,2HAChBC,EAAiB,mIAIjBC,EAAuBC,KAAKC,MAAMC,aAAaC,QAFjC,+BAE0D,GACxEC,EAAqBJ,KAAKC,MAAMC,aAAaC,QAFjC,6BAEwD,GAInE,SAASR,IAChB,MAAMU,EAAUN,EAIb,GAHKO,QAAQC,IAAI,UAAWF,GAC3BC,QAAQC,IAAIP,KAAKC,MAAMI,EAAQG,SAE5BH,EAAQG,QAAU,EAAG,CAAC,MAAMC,EAASV,EAAqBW,KAAIC,IAC/D,MAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cACnC,IACIC,EADUP,EAAKQ,OACOT,KAAIU,GAAQA,EAAKC,OAM1C,OAJsB,IAAvBH,EAAYV,SAAeU,EAAc,WAEzCA,EAAYV,QAAU,IAAIU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAEpEZ,EAAKa,YACA,mCAAmCb,EAAKc,qJAIVd,EAAKa,+BACnCb,EAAKe,0HAIgBf,EAAKgB,0FAEHT,gDACCN,gDACAG,mEAMxB,mCAAmCJ,EAAKc,6KAKnBd,EAAKgB,0FAEHT,gDACCN,gDACAG,kEAI7B,IAGLQ,KAAK,IACHhC,EAAoBqC,UAAYnB,C,MAElCrB,EAAgBwC,UAAa,MAAM/B,iDACCC,+M,CAQlC,SAASF,IACR,MAAMS,EAAUD,EAIrB,GAHKE,QAAQC,IAAI,UAAWF,GAC3BC,QAAQC,IAAIP,KAAKC,MAAMI,EAAQG,SAE5BH,EAAQG,QAAU,EAAG,CAAC,MAAMC,EAASL,EAAmBM,KAAIC,IAC7D,MAAMC,EAAaC,EAAQF,EAAKG,cAC1BC,EAAaC,EAAUL,EAAKM,cACnC,IACIC,EADUP,EAAKQ,OACOT,KAAIU,GAAQA,EAAKC,OAM1C,OAJsB,IAAvBH,EAAYV,SAAeU,EAAc,WAEzCA,EAAYV,QAAU,IAAIU,EAAcA,EAAYI,MAAM,EAAG,GAAGC,OAAS,cAEpEZ,EAAKa,YACA,mCAAmCb,EAAKc,qJAIVd,EAAKa,+BACnCb,EAAKe,0HAIgBf,EAAKgB,0FAEHT,gDACCN,gDACAG,mEAMxB,mCAAmCJ,EAAKc,6KAKnBd,EAAKgB,0FAEHT,gDACCN,gDACAG,kEAI7B,IAGLQ,KAAK,IACHhC,EAAoBqC,UAAYnB,C,MAElCrB,EAAgBwC,UAAa,MAAM/B,iDACCC,+M,CAOzC,SAASe,EAAQgB,GAEf,OADgBA,EAAKC,MAAM,KACZ,E,CAGjB,SAASd,EAAUe,GAEf,OADoBA,EAAKC,QAAQ,E,CArIrCrC","sources":["src/services/myLibraryPage.js"],"sourcesContent":["// import { getProperGenre } from './trendingPage';\n// import { getMovieByID } from \"./MovieObjectByID\";\n// import {  } from \"./modalTemplate\";\n\nconst moviesContainer = document.querySelector(\".container\");\nconst moviesListContainer = document.querySelector('.movie-grid-list');\n// const btnAddToWatched = document.querySelector(\".btn-add-watched\");\n// const btnAddToQueue = document.querySelector(\".card__button-text\");\nconst btnGetToWatched = document.querySelector('[data-action =\"watched\"]');\nconst btnGetToQueue = document.querySelector('[data-action =\"queue\"]');\n\n\n\n// btnAddToWatched.addEventListener(\"click\", addWatchedMoviesInStorage);\n// btnAddToQueue.addEventListener(\"click\", addQueueMoviesInStorage);\nbtnGetToWatched.addEventListener(\"click\", getWatchedMoviesInStorage);\nbtnGetToQueue.addEventListener(\"click\", getQueueMoviesInStorage);\n\nconst warningTextUa = \"Нажаль тут ще не має жодного фільму.  Тому спеціально для тебе ми підібрали найпопулярніші фільми. Приємного переглядцу!\"\nconst warningTextEng = \" Unfortunately, there is no movie here yet.Therefore, we have selected the most popular movies especially for you.Happy viewing!\"\n\nconst KEY_WATCHED = \"watched-movies-in-storage\";\nconst KEY_QUEUE = \"queue-movies-in-storage\";\nconst moviesWatchedInLocal = JSON.parse(localStorage.getItem(KEY_WATCHED)) || [];\nconst moviesQueueInLocal = JSON.parse(localStorage.getItem(KEY_QUEUE)) || [];\n\ngetWatchedMoviesInStorage();\n\nexport function getWatchedMoviesInStorage() {\nconst getData = moviesWatchedInLocal;\n        console.log(\"getData\", getData);\n    console.log(JSON.parse(getData.length));\n    \n   if (getData.length >= 1) {const markup = moviesWatchedInLocal.map(item => {\n      const dateMarkup = getYear(item.release_date);\n      const voteMarkup = getRating(item.vote_average);\n     let genrArr = item.genres;\n     let properGenre = genrArr.map(genr => genr.name);\n    \n     properGenre.length === 0 ? properGenre = 'No info' : properGenre;\n\n     properGenre.length >= 2 ? properGenre = properGenre.slice(0, 2).join() + ', Other...' : properGenre;\n\n      if (item.poster_path) {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      } else {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      }\n    })\n    .join('');\n       moviesListContainer.innerHTML = markup;\n   } else {\n     moviesContainer.innerHTML =  `<p>${warningTextUa}</p>\n                                   <p> ${warningTextEng}</p>\n                                   <button class=\"nav-btn\" data-btn-home=\"\">\n                                   <a href=\"/index.html\">the best here</a>\n                                   </button>`;\n  }\n}\n\n\nexport function getQueueMoviesInStorage() {\n        const getData = moviesQueueInLocal;\n        console.log(\"getData\", getData);\n    console.log(JSON.parse(getData.length));\n    \n   if (getData.length >= 1) {const markup = moviesQueueInLocal.map(item => {\n      const dateMarkup = getYear(item.release_date);\n      const voteMarkup = getRating(item.vote_average);\n     let genrArr = item.genres;\n     let properGenre = genrArr.map(genr => genr.name);\n    \n     properGenre.length === 0 ? properGenre = 'No info' : properGenre;\n\n     properGenre.length >= 2 ? properGenre = properGenre.slice(0, 2).join() + ', Other...' : properGenre;\n\n      if (item.poster_path) {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}\">\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper\">\n        <img class=\"movie-img\"\n        src=\"http://image.tmdb.org/t/p/w500${item.poster_path}\" \n        alt=\"${item.title}\"\n        loading=\"lazy\" />\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      } else {\n        return `<li class=\"grid-movie-card\" id=\"${item.id}>\n      <div class=\"movie-item\">\n      <div class=\"img-wrapper img-placeholder\">\n        </div>\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${item.original_title}</h3>\n          <ul class=\"thumb\">\n            <li class=\"movie-genre\">${properGenre}</li>\n            <li class=\"movie-date\">| ${dateMarkup}</li>\n            <li class=\"movie-rating\">${voteMarkup}</li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n      }\n    })\n    .join('');\n       moviesListContainer.innerHTML = markup;\n   } else {\n     moviesContainer.innerHTML =  `<p>${warningTextUa}</p>\n                                   <p> ${warningTextEng}</p>\n                                   <button class=\"nav-btn\" data-btn-home=\"\">\n                                   <a href=\"/index.html\">the best here</a>\n                                   </button>`;\n  }\n}\n\nfunction getYear(date) {\n  const dateArr = date.split('-');\n  return dateArr[0];\n}\n\nfunction getRating(vote) {\n    const voteAdapted = vote.toFixed(2);\n    return voteAdapted;\n}\n\n\nexport function addWatchedMoviesInStorage() {\n    const localStorageArr = localStorage.getItem(KEY_WATCHED) || [];\n    console.log(\"Before\",localStorageArr);\n    if (!localStorageArr.includes(filmObject.id)) {\n    moviesWatchedInLocal.push(filmObject);\n    console.log(\"In if\",moviesWatchedInLocal);\n\n    localStorage.setItem(KEY_WATCHED, JSON.stringify(moviesWatchedInLocal));\n    getWatchedMoviesInStorage();\n    }\n    return \n}\n\nexport function addQueueMoviesInStorage() {\n    const localStorageArr = localStorage.getItem(KEY_QUEUE) || [];\n    console.log(\"Before\",localStorageArr);\n    if (!localStorageArr.includes(filmObject.id)) {\n    moviesQueueInLocal.push(filmObject);\n    console.log(\"In if\",moviesQueueInLocal);\n\n    localStorage.setItem(KEY_QUEUE, JSON.stringify(moviesQueueInLocal));\n    getQueueMoviesInStorage();\n    }\n    return \n}\n"],"names":["$72a0aa36b2ac21e3$var$moviesContainer","document","querySelector","$72a0aa36b2ac21e3$var$moviesListContainer","$72a0aa36b2ac21e3$var$btnGetToWatched","$72a0aa36b2ac21e3$var$btnGetToQueue","addEventListener","$72a0aa36b2ac21e3$export$22d2713c01bde56c","$72a0aa36b2ac21e3$export$3af3816e89ed66e0","$72a0aa36b2ac21e3$var$warningTextUa","$72a0aa36b2ac21e3$var$warningTextEng","$72a0aa36b2ac21e3$var$moviesWatchedInLocal","JSON","parse","localStorage","getItem","$72a0aa36b2ac21e3$var$moviesQueueInLocal","getData","console","log","length","markup","map","item","dateMarkup","$72a0aa36b2ac21e3$var$getYear","release_date","voteMarkup","$72a0aa36b2ac21e3$var$getRating","vote_average","properGenre","genres","genr","name","slice","join","poster_path","id","title","original_title","innerHTML","date","split","vote","toFixed"],"version":3,"file":"library.29124486.js.map"}